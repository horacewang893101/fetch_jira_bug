# MP-470: Hardcoded credentials and secrets

**Status:** Backlog

**Assignee:** Unassigned

**Description:**
*Files under terraform/azure:*

* vault.tf
** resource "azurerm_key_vault_secret" "translator-env"
*** LANGFLOW_DATABASE_URL
**** ${local.deployment_vars.db_user}
**** ${local.deployment_vars.db_password}
*** LANGFLOW_REDIS_URL
**** ${local.deployment_vars.redis_password}
** resource "azurerm_key_vault_secret" "celery-env"
*** LANGFLOW_LICENSE_SECRET_KEY
*** LANGFLOW_HASH_PART_1
*** LANGFLOW_HASH_PART_2
*** LANGFLOW_DATABASE_URL
**** ${local.deployment_vars.db_user}
**** ${local.deployment_vars.db_password}
*** LANGFLOW_SUPERUSER_PASSWORD
** resource "azurerm_key_vault_secret" "backend-env"
*** LANGFLOW_LICENSE_SECRET_KEY
*** LANGFLOW_HASH_PART_1
*** LANGFLOW_HASH_PART_2
*** LANGFLOW_DATABASE_URL
**** ${local.deployment_vars.db_user}
**** ${local.deployment_vars.db_password}
*** LANGFLOW_SUPERUSER
*** LANGFLOW_SUPERUSER_PASSWORD
*** LANGFLOW_SECRET_KEY
*** LANGFLOW_REDIS_URL
**** ${local.deployment_vars.redis_password}
*** DB_USER=${local.deployment_vars.db_user}
*** DB_PASSWORD=${local.deployment_vars.db_password}
*** REDIS_PASSWORD=${local.deployment_vars.redis_password}
** resource "azurerm_key_vault_secret" "knowledge-appsettings"
*** "AuthenticationConfigs" section
*** "AzureAd" section
*** "AzureAdB2C" section
*** "RedisConfig"
**** ${local.deployment_vars.redis_password}
***  "DbConfig"
**** ConnectionString, i.e. User Id=${local.deployment_vars.db_user};Password=${local.deployment_vars.db_password}
*** "DataSourceEncryptKey"
*** "DocumentTranslator"
**** "AzureTranslator"
***** Key
***** StorageConnectionString
***  "GraphApiOptions" whole section
*** "ServiceCaller" whole section
*** "EncryptConfig" whole section
** resource "azurerm_key_vault_secret" "knowledge-serilogsettings"
***  "WriteTo": [
      { "Name": "Console" },
      {
        "Name": "PostgreSQL",
        "Args": {
          *"connectionString"*
* variables.tf (lines 74-145)
** variable "pg_username"
** variable "pg_password"
** variable "serviceme_superuser_name" {
** variable "serviceme_superuser_pwd" {
** variable "langflow_superuser_pwd"
** variable "serviceme_registry_username"
** variable "serviceme_registry_password"
* user-config.template
** serviceme_superuser_name=next
serviceme_superuser_pwd=changeme
** serviceme_registry_username=docker
serviceme_registry_password=password

*Risks:*

* Credentials can be extracted from Terraform state file
