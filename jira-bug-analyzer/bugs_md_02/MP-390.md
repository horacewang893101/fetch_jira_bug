# MP-390: Chat API - websocket - authentication token in URL

**Status:** Backlog

**Assignee:** Unassigned

**Description:**
 The WebSocket API uses authentication tokens in the URL query string, which are exposed in browser logs, proxies, and network traces.{{ }}
For example: 

wss://…/chat_v2?token=SECRET
 

It is recommended to authenticate after the WebSocket connection is established by sending a dedicated auth message containing the token: 

{
 "type": "auth",
 "token": "eyJhbGc..."
}
 

Tokens must never appear in the URL. The server validates the token and responds with success or closes the connection on failure. For long-lived connections, implement token renewal: if the server detects an expired token, it sends an auth_error message; the client must then refresh or re-acquire a token and resend the auth message. This approach aligns with best practices for secure WebSocket authentication, protects credentials from leakage, and supports token expiration handling. 
