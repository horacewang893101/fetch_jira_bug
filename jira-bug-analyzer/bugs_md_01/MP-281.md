# MP-281: Unhandled exception for invalid object ID in knowledge workspace URL returns 500 Internal Server Error

**Status:** Backlog

**Assignee:** Unassigned

**Description:**
*Initial assumptions:*

* Logged as user: krzysztof.dolecki on: [https://trial.aicentral.top/?mode=default|https://trial.aicentral.top/?mode=default]
* Base valid URL (existing object):
{{https://trial.aicentral.top/knowledge/my-workspace/4529092231629373440}}
* Modified URL with invalid/non‑existent object identifier (example):
{{https://trial.aicentral.top/knowledge/my-workspace/4529092231629373440XYZ}}
or any other variation that does not correspond to an existing object.

*Steps:*

# Open a browser.
# Navigate to a known working URL in the knowledge workspace (Knowledge Base/My Workspace/Default), for example:
{{https://trial.aicentral.top/knowledge/my-workspace/4529092231629373440}}
# Modify the trailing identifier to a value that does *not* represent an existing object (e.g. append extra characters or change the numeric value):
#* {{https://trial.aicentral.top/knowledge/my-workspace/4529092231629373440XYZ}}
# Send the request.

*Current result:* The server responds with:

* *HTTP status:* {{500 Internal Server Error}}

* This indicates an unhandled exception or missing error handling in the backend for invalid object references.

{noformat}
{
  "status": 500,
  "statusText": "Internal Server Error",
  "headers": {
    "Date": "Tue, 06 Jan 2026 15:08:29 GMT",
    "Content-Type": "application/json;charset=utf-8",
    "Connection": "keep-alive",
    "Cache-Control": "no-cache,no-store",
    "Expires": "-1",
    "Pragma": "no-cache",
    "Vary": "Accept-Encoding",
    "X-Frame-Options": "SAMEORIGIN",
    "X-XSS-Protection": "1; mode=block",
    "Content-Security-Policy": "default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; font-src 'self' data:; connect-src 'self' https://*.microsoftonline.com ws: wss: blob:; media-src 'self' blob:; object-src 'none'; child-src 'self'; frame-ancestors 'self' https://teams.microsoft.com",
    "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
    "X-Content-Type-Options": "nosniff",
    "Referrer-Policy": "no-referrer",
    "Content-Length": "38"
  },
  "body": {
    "success": false,
    "msg": "System Error"
  }
}
{noformat}

*Expected results:* 

* The application should gracefully handle invalid or non‑existent object identifiers and return an appropriate, controlled response, for example:
** *404 Not Found* – if the identifier is syntactically valid but the object does not exist.
** *400 Bad Request* – if the identifier is malformed or does not meet validation rules.
* No unhandled server errors (500) should be exposed to the client.
* Optionally, a user‑friendly error page or JSON error payload should be returned, without leaking internal exception details or stack traces.

*Impact / Risk:*

* Exposing {{500 Internal Server Error}} for simple invalid IDs indicates:
** Lack of robust input validation and error handling on this endpoint.
** Potential for information disclosure if stack traces or detailed exception messages are logged or exposed.
* This behavior may also be a symptom of deeper issues (e.g. direct use of unvalidated route parameters in data access logic), and could be related to or evolve into security vulnerabilities such as injection or denial of service scenarios if not addressed.
