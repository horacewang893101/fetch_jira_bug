# MP-411: [Recommendation] No in-app invitation mechanism when Entra ID is disabled – admins must invite users manually via email

**Status:** Backlog

**Assignee:** Unassigned

**Description:**
When Entra ID integration is disabled or not used, administrators cannot invite new users directly from within the application. In this mode there is *no built‑in “invite user” workflow* (e.g. sending an invitation email with a registration link or one‑time token). Instead, admins must manually send invitations via external email tools and rely on ad‑hoc instructions for users to access or register in the application.

This creates an inconsistent onboarding experience compared to Entra ID–backed tenants, where user lifecycle and onboarding can be centrally managed. It also increases operational overhead and the likelihood of onboarding errors for environments that do not (or cannot) use Entra ID.

*Impact*

* Higher administrative effort:
** Admins must manually compose and send invitation emails outside the application.
** No centralized tracking of who was invited, when, and by whom.
* Inconsistent and error‑prone onboarding:
** Users may receive incomplete or incorrect instructions.
** More support tickets and back‑and‑forth communication to help users log in or register.
* Weaker auditability and governance:
** No system-level record of invitation events (who invited which user, when the invite was sent, whether it was accepted).
** Harder to demonstrate proper access provisioning controls during audits.
* Poor user experience:
** New users may be confused about how to access the application without a clear, application-generated invitation flow.

*Recommended Fix*

* Implement an *in-app invitation workflow* for environments where Entra ID is disabled or unavailable:
** Allow admins to invite users by entering their email address and (optionally) assigning roles/groups.
** Automatically send an application-generated invitation email with a secure registration or sign‑in link (e.g. time‑limited, one‑time token).
* Provide basic *invitation management and auditability*:
** List of pending and accepted invitations,
** Metadata such as invited email, inviter, invite date, status.
* Align behavior with Entra ID–enabled tenants where possible:
** Ensure a consistent onboarding pattern (invite → accept → first login), regardless of identity provider.
* Optionally support configuration of:
** Invitation email templates (subject/body with limited customization),
** Expiry time for invitation links,
** Default roles or permissions applied to newly invited users.
