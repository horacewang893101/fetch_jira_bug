# MP-370: Azure PostgreSQL Flexible Server storage performance tier over-provisioned

**Status:** Backlog

**Assignee:** Unassigned

**Description:**
The Azure Database for PostgreSQL Flexible Server is configured with *Premium SSD 32 GiB* storage, but the storage *performance tier is set to P20 (2,300 IOPS)* instead of the portal-recommended tier for this disk size.
For a 32 GiB Premium SSD configuration, Azure portal guidance aligns to *P4 / 120 IOPS*, so the current setting appears to be significantly over-provisioned relative to storage size and likely workload needs.

!image-20260109-122002.png|width=454,alt="image-20260109-122002.png"!

h2. Impact

* *Unnecessary cost:* Reducing Performance tier to value that portal suggests for 32GB disk (P4, 120IOPS) could reduce monthly cost of database by around $66.24.
* *Limited practical benefit (potentially):* If the database is not consistently I/O-bound, higher provisioned IOPS will not yield measurable performance gains, meaning the extra spend provides little to no value.
* *Risk of masking root cause:* Over-provisioning IOPS can hide underlying issues (inefficient queries, missing indexes, checkpoint/tuning needs) that should be addressed directly.

h2. Recommended fix

# *Change storage performance tier* from *P20 (2,300 IOPS)* to *P4 (120 IOPS)* (portal recommended for 32 GiB).
# *Monitor for regressions* after the change:
#* Azure Monitor: {{disk_iops_consumed_percentage}}, {{disk_queue_depth}}, and query latency during peak periods.
# If saturation is observed after lowering tier:
#* Investigate and optimize I/O-heavy workload.
#* Increase tier gradually only if metrics show sustained I/O saturation.
